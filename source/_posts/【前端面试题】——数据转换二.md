---
title: ç®€å•çš„æ•°æ®è½¬æ¢(äºŒ)
categories:
  - jsé¢è¯•é¢˜
tags:
  - JavaScript
index_img: /img3/xj.gif
banner_img: /img3/gq1.jpeg
---

# ã€å‰ç«¯é¢è¯•é¢˜ã€‘â€”â€”æ•°æ®è½¬æ¢äºŒ

#### **åˆå§‹æ•°æ®ï¼š**

```json
const data = { a: { b: 3 }, c: 10, d: [1, 8] };
```

**è½¬æ¢æˆ**ï¼š

```json
const data = {a.b: 3, c: 10, d[1]: 8}
```

**ä»£ç ï¼š**

```javascript
function result(obj) {
  let res = new Map(); // åˆ›å»ºMap,ç”¨æ¥å­˜æ”¾å¤„ç†çš„æ•°æ®
  for (let key in obj) {
    // å¼€å§‹éå†åˆå§‹å¯¹è±¡
    if (obj[key].constructor.name === "Object") {
      //å¦‚æœå¯¹è±¡é‡Œæœ‰å¯¹è±¡ç±»å‹ï¼Œå¼€å§‹æ•°æ®è½¬æ¢åå­˜æ”¾è¿›mapå¯¹è±¡
      for (let j in obj[key]) {
        res.set(key + "." + j, obj[key][j]); // ç”¨new Map().setå¯ä»¥å­˜å‚¨æ•°æ®
      }
    } else if (Array.isArray(obj[key])) {
      // åŒç†ï¼Œåˆ¤æ–­æœ‰æœ¨æœ‰æ•°ç»„ç±»å‹çš„ï¼Œæœ‰å°±è¿›è¡Œæ•°æ®æ“ä½œ
      for (let k in obj[key]) {
        res.set(`${key}[${obj[key][0]}]`, obj[key][1]); //å­˜æ”¾è¿›Mapå¯¹è±¡
      }
    } else {
      res.set(key, obj[key]); // å•¥éƒ½æ²¡åŒ¹é…åˆ°çš„æ•°æ®ï¼ŒåŸå°ä¸åŠ¨å­˜å…¥
    }
  }
  let obj2 = {}; // åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡
  for (let [key, value] of res) {
    //Mapå¯¹è±¡è½¬æ¢æˆæ™®é€šå¯¹è±¡,Mapæœ‰iteratorè¿­ä»£å™¨ï¼Œå¯ä»¥ç”¨for of éå† [key,value]
    obj2[key] = value; // å­˜æ”¾è¿›æ™®é€šå¯¹è±¡ï¼Œå®ç°è½¬æ¢
  }
  return obj2; // æœ€åè¿›è¡Œè¾“å‡º
}
console.log(result(data2)); // {a.b: 3, c: 10, d[1]: 8}
```

**ps:**

**è¿™åªæ˜¯ç®€æ˜“ç‰ˆï¼Œè¿˜æœ‰å¾ˆå¤šåˆ¤æ–­æ²¡æœ‰åŠ ä¸Šï¼Œå†™å¾—ä¸å¥½ï¼Œæˆ–è€…éœ€è¦è¡¥å……çš„åœ°æ–¹ï¼Œè¯·å¤§ä½¬ä»¬åœ¨è¯„è®ºåŒºæŒ‡å‡º**ğŸ˜Š
